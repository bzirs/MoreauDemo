{"version":3,"file":"js/554.614eebe5.js","mappings":"gQAaO,MAAMA,EAAiBC,GAAUC,EAAAA,EAAAA,IAAY,mBAAoB,CAAED,WAG7DE,EAAgBF,IAAUC,EAAAA,EAAAA,GAAQ,CAAEE,IAAK,sBAAuBC,OAAQ,MAAOJ,WAG/EK,EAAmBC,GAAML,EAAAA,EAAAA,IAAY,kBAAmB,CAAED,OAAQ,CAAEM,QAGpEC,EAAgBD,GAAML,EAAAA,EAAAA,KAAa,iBAAkB,CAAEK,KAAIE,QAAS,IAGpEC,EAAaH,GAAML,EAAAA,EAAAA,KAAa,iBAAkB,CAAEK,KAAIE,QAAS,G,+ECzB1EE,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,MAAM,CAACE,YAAY,+BAA+B,CAACF,EAAG,IAAI,CAACG,MAAM,CAAC,KAAO,gBAAgBC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOP,EAAIQ,aAAa,cAAc,IAAI,CAACR,EAAIS,GAAG,QAAQP,EAAG,IAAI,CAACG,MAAM,CAAC,KAAO,gBAAgBC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOP,EAAIQ,aAAa,GAAG,IAAI,CAACR,EAAIS,GAAG,QAAQT,EAAIU,GAAG,KAAKR,EAAG,WAAW,CAACG,MAAM,CAAC,SAAWL,EAAIW,SAAS,gBAAgB,SAASL,GAAG,CAAC,KAAON,EAAIY,QAAQC,MAAM,CAACC,MAAOd,EAAIe,QAASC,SAAS,SAAUC,GAAMjB,EAAIe,QAAQE,CAAG,EAAEC,WAAW,YAAYlB,EAAImB,GAAInB,EAAIoB,MAAM,SAASC,GAAI,OAAOnB,EAAG,eAAe,CAACoB,IAAID,EAAG1B,GAAGU,MAAM,CAAC,KAAOgB,GAAIE,SAAS,CAAC,MAAQ,SAAShB,GAAQ,OAAOP,EAAIwB,QAAQC,KAAK,CAAEC,KAAM,SAAUrC,OAAQ,CAAEM,GAAI0B,EAAG1B,KAAO,IAAI,IAAG,IAAI,EAC1xB,EACIgC,EAAkB,CAAC,WAAY,IAAI3B,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,MAAM,CAACG,MAAM,CAAC,IAAMuB,EAAQ,MAAqB,IAAM,OAChK,G,oBCkCA,GACAC,WAAAA,CAAAC,YAAAA,EAAAA,GACAJ,KAAAA,eACAK,OACA,OAEAC,OAAAA,CACAC,QAAAA,EACAC,SAAAA,GACAC,OAAAA,IAEAf,KAAAA,GACAL,SAAAA,EACAJ,UAAAA,EAEA,EAEAyB,QAAAA,CACA,eAEA,IACA,MACAL,MAAAA,KAAAM,EAAAA,UAAAC,UACA,qBACA,qBAEAA,IAAAA,KAAAA,OAAAA,YAAAA,KAAAA,UAAAA,GACA,eACA,WACA,EACA9B,aAAAA,GACA,sBACA,qBACA,aACA,gBACA,iBACA,aACA,IC1Esa,I,UCQla+B,GAAY,OACd,EACAxC,EACA4B,GACA,EACA,KACA,WACA,MAIF,EAAeY,EAAiB,O","sources":["webpack://interview/./src/api/article.js","webpack://interview/./src/views/article.vue","webpack://interview/src/views/article.vue","webpack://interview/./src/views/article.vue?0c25","webpack://interview/./src/views/article.vue?6d9c"],"sourcesContent":["/**\r\n * @Author: bzirs\r\n * @Date: 2022-12-04 20:37:33\r\n * @LastEditors: bzirs\r\n * @LastEditTime: 2022-12-05 21:13:05\r\n * @FilePath: /interview/src/api/article.js\r\n * @Description: article api\r\n * @\r\n * @Copyright (c) 2022 by bzirs, All Rights Reserved.\r\n */\r\nimport request from '@/utils/request'\r\n\r\n// 获取文章列表\r\nexport const getArticleList = params => request.get('/interview/query', { params })\r\n\r\n// 获取喜欢/收藏列表\r\nexport const getCollctList = params => request({ url: '/interview/opt/list', method: 'get', params })\r\n\r\n// 获取文章内容\r\nexport const getArticleDetail = id => request.get('/interview/show', { params: { id } })\r\n\r\n// 收藏和取消收藏\r\nexport const changeCollect = id => request.post('/interview/opt', { id, optType: 2 })\r\n\r\n// 喜欢和取消喜欢\r\nexport const changeLike = id => request.post('/interview/opt', { id, optType: 1 })\r\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"article-page\"},[_c('nav',{staticClass:\"my-nav van-hairline--bottom\"},[_c('a',{attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){return _vm.changeSorter('weight_desc')}}},[_vm._v(\"推荐\")]),_c('a',{attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){return _vm.changeSorter('')}}},[_vm._v(\"最新\")]),_vm._m(0)]),_c('van-list',{attrs:{\"finished\":_vm.finished,\"finished-text\":\"没有更多了\"},on:{\"load\":_vm.onLoad},model:{value:(_vm.loading),callback:function ($$v) {_vm.loading=$$v},expression:\"loading\"}},_vm._l((_vm.list),function(it){return _c('article-item',{key:it.id,attrs:{\"item\":it},nativeOn:{\"click\":function($event){return _vm.$router.push({ name: 'detail', params: { id: it.id } })}}})}),1)],1)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"logo\"},[_c('img',{attrs:{\"src\":require(\"@/assets/logo.png\"),\"alt\":\"\"}})])\n}]\n\nexport { render, staticRenderFns }","<!--\r\n * @Author: bzirs\r\n * @Date: 2022-12-04 15:59:51\r\n * @LastEditors: bzirs\r\n * @LastEditTime: 2022-12-05 20:53:56\r\n * @FilePath: /interview/src/views/article.vue\r\n * @Description: 面经首页\r\n *\r\n * Copyright (c) 2022 by bzirs, All Rights Reserved.\r\n-->\r\n<template>\r\n  <div class=\"article-page\">\r\n    <!-- 顶部栏 -->\r\n    <nav class=\"my-nav van-hairline--bottom\">\r\n      <a href=\"javascript:;\" @click=\"changeSorter('weight_desc')\">推荐</a>\r\n      <!-- javascript:; 只有a标签可用 阻止默认跳转 -->\r\n      <a href=\"javascript:;\" @click=\"changeSorter('')\">最新</a>\r\n      <div class=\"logo\">\r\n        <img src=\"@/assets/logo.png\" alt=\"\" />\r\n      </div>\r\n    </nav>\r\n    <!-- cell列表 -->\r\n    <van-list v-model=\"loading\" :finished=\"finished\" finished-text=\"没有更多了\" @load=\"onLoad\">\r\n      <article-item\r\n        v-for=\"it in list\"\r\n        :key=\"it.id\"\r\n        :item=\"it\"\r\n        @click.native=\"$router.push({ name: 'detail', params: { id: it.id } })\"\r\n      ></article-item>\r\n      <!-- 默认给组件添加事件是$emit()传上来的事件 注册原生事件要用native修饰符 -->\r\n    </van-list>\r\n  </div>\r\n</template>\r\n<script>\r\nimport ArticleItem from '@/components/ArticleItem.vue'\r\n\r\nimport { getArticleList } from '@/api/article'\r\nexport default {\r\n  components: { ArticleItem },\r\n  name: 'article-page',\r\n  data () {\r\n    return {\r\n      // 创建请求参数对象\r\n      reqObj: {\r\n        current: 1,\r\n        pageSize: 10,\r\n        sorter: ''\r\n      },\r\n      list: [],\r\n      loading: false,\r\n      finished: false\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    async onLoad () {\r\n      // 异步更新数据\r\n      try {\r\n        const {\r\n          data: { rows, pageTotal }\r\n        } = await getArticleList(this.reqObj)\r\n        this.list.push(...rows)\r\n        // 加载动画结束\r\n        pageTotal === this.reqObj.current++ && (this.finished = true)\r\n        this.loading = false\r\n      } catch (error) {}\r\n    },\r\n    changeSorter (sorter) {\r\n      this.reqObj.current = 1\r\n      this.reqObj.sorter = sorter\r\n      this.list = []\r\n      this.loading = true\r\n      this.finished = false\r\n      this.onLoad()\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.article-page {\r\n  margin-bottom: 50px;\r\n  margin-top: 44px;\r\n  .my-nav {\r\n    height: 44px;\r\n    position: fixed;\r\n    left: 0;\r\n    top: 0;\r\n    width: 100%;\r\n    z-index: 999;\r\n    background: #fff;\r\n    display: flex;\r\n    align-items: center;\r\n    > a {\r\n      color: #999;\r\n      font-size: 14px;\r\n      line-height: 44px;\r\n      margin-left: 20px;\r\n      position: relative;\r\n      transition: all 0.3s;\r\n      &::after {\r\n        content: '';\r\n        position: absolute;\r\n        left: 50%;\r\n        transform: translateX(-50%);\r\n        bottom: 0;\r\n        width: 0;\r\n        height: 2px;\r\n        background: #222;\r\n        transition: all 0.3s;\r\n      }\r\n      &.active {\r\n        color: #222;\r\n        &::after {\r\n          width: 14px;\r\n        }\r\n      }\r\n    }\r\n    .logo {\r\n      flex: 1;\r\n      display: flex;\r\n      justify-content: flex-end;\r\n      > img {\r\n        width: 64px;\r\n        height: 28px;\r\n        display: block;\r\n        margin-right: 10px;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/.pnpm/thread-loader@3.0.4_webpack@5.75.0/node_modules/thread-loader/dist/cjs.js!../../node_modules/.pnpm/babel-loader@8.3.0_ztqwsvkb6z73luspkai6ilstpu/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/.pnpm/vue-loader@15.10.1_z2a3irye3y56jaq776fqxbsiea/node_modules/vue-loader/lib/index.js??vue-loader-options!./article.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/.pnpm/thread-loader@3.0.4_webpack@5.75.0/node_modules/thread-loader/dist/cjs.js!../../node_modules/.pnpm/babel-loader@8.3.0_ztqwsvkb6z73luspkai6ilstpu/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/.pnpm/vue-loader@15.10.1_z2a3irye3y56jaq776fqxbsiea/node_modules/vue-loader/lib/index.js??vue-loader-options!./article.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./article.vue?vue&type=template&id=333b35cf&scoped=true&\"\nimport script from \"./article.vue?vue&type=script&lang=js&\"\nexport * from \"./article.vue?vue&type=script&lang=js&\"\nimport style0 from \"./article.vue?vue&type=style&index=0&id=333b35cf&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/.pnpm/vue-loader@15.10.1_z2a3irye3y56jaq776fqxbsiea/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"333b35cf\",\n  null\n  \n)\n\nexport default component.exports"],"names":["getArticleList","params","request","getCollctList","url","method","getArticleDetail","id","changeCollect","optType","changeLike","render","_vm","this","_c","_self","staticClass","attrs","on","$event","changeSorter","_v","_m","finished","onLoad","model","value","loading","callback","$$v","expression","_l","list","it","key","nativeOn","$router","push","name","staticRenderFns","require","components","ArticleItem","data","reqObj","current","pageSize","sorter","methods","rows","pageTotal","component"],"sourceRoot":""}